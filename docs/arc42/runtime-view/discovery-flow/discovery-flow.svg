<?xml version='1.0' encoding='US-ASCII' standalone='no'?><svg contentStyleType='text/css' height='974px' preserveAspectRatio='none' style='width:1699px;height:974px;background:#FFFFFF;' version='1.1' viewBox='0 0 1699 974' width='1699px' xmlns:xlink='http://www.w3.org/1999/xlink' xmlns='http://www.w3.org/2000/svg' zoomAndPan='magnify'><defs/><g><rect fill='#FFFFFF' height='311.2656' style='stroke:#181818;stroke-width:1.0;' width='10' x='638' y='112.4297'/><rect fill='#FFFFFF' height='29.1328' style='stroke:#181818;stroke-width:1.0;' width='10' x='1024' y='165.6953'/><rect fill='#FFFFFF' height='531.1953' style='stroke:#181818;stroke-width:1.0;' width='10' x='1371.5' y='91.2969'/><rect fill='#FFFFFF' height='32.1328' style='stroke:#181818;stroke-width:1.0;' width='10' x='1371.5' y='678.7578'/><rect fill='#FFFFFF' height='776.9297' style='stroke:#181818;stroke-width:1.0;' width='10' x='1480' y='91.2969'/><rect fill='none' height='119.3359' style='stroke:#000000;stroke-width:1.5;' width='955.5' x='363' y='127.4297'/><rect fill='none' height='128.7969' style='stroke:#000000;stroke-width:1.5;' width='1244.5' x='74' y='302.8984'/><rect fill='none' height='77.3984' style='stroke:#000000;stroke-width:1.5;' width='1081.5' x='363' y='516.9609'/><rect fill='none' height='154.4688' style='stroke:#000000;stroke-width:1.5;' width='1525.5' x='10' y='637.4922'/><line style='stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;' x1='392' x2='392' y1='81.2969' y2='893.2266'/><line style='stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;' x1='642.5' x2='642.5' y1='81.2969' y2='893.2266'/><line style='stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;' x1='1028.5' x2='1028.5' y1='81.2969' y2='893.2266'/><line style='stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;' x1='1212.5' x2='1212.5' y1='81.2969' y2='893.2266'/><line style='stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;' x1='1376.5' x2='1376.5' y1='81.2969' y2='893.2266'/><line style='stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;' x1='1484.5' x2='1484.5' y1='81.2969' y2='893.2266'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='32' x='373' y='77.9951'>User</text><ellipse cx='392' cy='13.5' fill='#E2E2F0' rx='8' ry='8' style='stroke:#181818;stroke-width:0.5;'/><path d='M392,21.5 L392,48.5 M379,29.5 L405,29.5 M392,48.5 L379,63.5 M392,48.5 L405,63.5 ' fill='none' style='stroke:#181818;stroke-width:0.5;'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='32' x='373' y='905.2217'>User</text><ellipse cx='392' cy='917.0234' fill='#E2E2F0' rx='8' ry='8' style='stroke:#181818;stroke-width:0.5;'/><path d='M392,925.0234 L392,952.0234 M379,933.0234 L405,933.0234 M392,952.0234 L379,967.0234 M392,952.0234 L405,967.0234 ' fill='none' style='stroke:#181818;stroke-width:0.5;'/><rect fill='#E2E2F0' height='30.2969' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='159' x='563.5' y='50'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='145' x='570.5' y='69.9951'>DiscoveryServiceImpl</text><rect fill='#E2E2F0' height='30.2969' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='159' x='563.5' y='892.2266'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='145' x='570.5' y='912.2217'>DiscoveryServiceImpl</text><rect fill='#E2E2F0' height='30.2969' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='155' x='951.5' y='50'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='141' x='958.5' y='69.9951'>DiscoveryRepository</text><rect fill='#E2E2F0' height='30.2969' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='155' x='951.5' y='892.2266'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='141' x='958.5' y='912.2217'>DiscoveryRepository</text><rect fill='#E2E2F0' height='30.2969' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='192' x='1116.5' y='50'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='178' x='1123.5' y='69.9951'>DiscoveryFinderException</text><rect fill='#E2E2F0' height='30.2969' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='192' x='1116.5' y='892.2266'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='178' x='1123.5' y='912.2217'>DiscoveryFinderException</text><rect fill='#E2E2F0' height='30.2969' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='116' x='1318.5' y='50'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='102' x='1325.5' y='69.9951'>BpnRepository</text><rect fill='#E2E2F0' height='30.2969' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='116' x='1318.5' y='892.2266'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='102' x='1325.5' y='912.2217'>BpnRepository</text><rect fill='#E2E2F0' height='30.2969' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='81' x='1444.5' y='50'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='67' x='1451.5' y='69.9951'>Discovery</text><rect fill='#E2E2F0' height='30.2969' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='81' x='1444.5' y='892.2266'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='67' x='1451.5' y='912.2217'>Discovery</text><rect fill='#FFFFFF' height='311.2656' style='stroke:#181818;stroke-width:1.0;' width='10' x='638' y='112.4297'/><rect fill='#FFFFFF' height='29.1328' style='stroke:#181818;stroke-width:1.0;' width='10' x='1024' y='165.6953'/><rect fill='#FFFFFF' height='531.1953' style='stroke:#181818;stroke-width:1.0;' width='10' x='1371.5' y='91.2969'/><rect fill='#FFFFFF' height='32.1328' style='stroke:#181818;stroke-width:1.0;' width='10' x='1371.5' y='678.7578'/><rect fill='#FFFFFF' height='776.9297' style='stroke:#181818;stroke-width:1.0;' width='10' x='1480' y='91.2969'/><polygon fill='#181818' points='626,108.4297,636,112.4297,626,116.4297,630,112.4297' style='stroke:#181818;stroke-width:1.0;'/><line style='stroke:#181818;stroke-width:1.0;' x1='392' x2='632' y1='112.4297' y2='112.4297'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='160' x='399' y='107.3638'>getDiscoveryByBPN(bpn)</text><path d='M363,127.4297 L427,127.4297 L427,134.5625 L417,144.5625 L363,144.5625 L363,127.4297 ' fill='#EEEEEE' style='stroke:#000000;stroke-width:1.5;'/><rect fill='none' height='119.3359' style='stroke:#000000;stroke-width:1.5;' width='955.5' x='363' y='127.4297'/><text fill='#000000' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacing' textLength='19' x='378' y='140.4966'>alt</text><text fill='#000000' font-family='sans-serif' font-size='11' font-weight='bold' lengthAdjust='spacing' textLength='27' x='442' y='139.6401'>[try]</text><polygon fill='#181818' points='1012,161.6953,1022,165.6953,1012,169.6953,1016,165.6953' style='stroke:#181818;stroke-width:1.0;'/><line style='stroke:#181818;stroke-width:1.0;' x1='648' x2='1018' y1='165.6953' y2='165.6953'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='357' x='655' y='160.6294'>retrieveDiscoveryByFinderAndEdcDiscoveryService(bpn)</text><polygon fill='#181818' points='659,190.8281,649,194.8281,659,198.8281,655,194.8281' style='stroke:#181818;stroke-width:1.0;'/><line style='stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;' x1='653' x2='1028' y1='194.8281' y2='194.8281'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='137' x='665' y='189.7622'>Optional&lt;Discovery&gt;</text><line style='stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;' x1='363' x2='1318.5' y1='203.8281' y2='203.8281'/><text fill='#000000' font-family='sans-serif' font-size='11' font-weight='bold' lengthAdjust='spacing' textLength='45' x='368' y='214.0386'>[catch]</text><polygon fill='#181818' points='403,234.7656,393,238.7656,403,242.7656,399,238.7656' style='stroke:#181818;stroke-width:1.0;'/><line style='stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;' x1='397' x2='1211.5' y1='238.7656' y2='238.7656'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='529' x='409' y='233.6997'>throw new DiscoveryFinderException("DiscoveryFinder could not determine result.")</text><line style='stroke:#181818;stroke-width:1.0;' x1='648' x2='690' y1='274.8984' y2='274.8984'/><line style='stroke:#181818;stroke-width:1.0;' x1='690' x2='690' y1='274.8984' y2='287.8984'/><line style='stroke:#181818;stroke-width:1.0;' x1='649' x2='690' y1='287.8984' y2='287.8984'/><polygon fill='#181818' points='659,283.8984,649,287.8984,659,291.8984,655,287.8984' style='stroke:#181818;stroke-width:1.0;'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='164' x='655' y='269.8325'>checkDuplicateUrlsforBpn</text><path d='M74,302.8984 L138,302.8984 L138,310.0313 L128,320.0313 L74,320.0313 L74,302.8984 ' fill='#EEEEEE' style='stroke:#000000;stroke-width:1.5;'/><rect fill='none' height='128.7969' style='stroke:#000000;stroke-width:1.5;' width='1244.5' x='74' y='302.8984'/><text fill='#000000' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacing' textLength='19' x='89' y='315.9653'>alt</text><text fill='#000000' font-family='sans-serif' font-size='11' font-weight='bold' lengthAdjust='spacing' textLength='219' x='153' y='315.1089'>[duplicate Urls for bpn registered]</text><path d='M1323.5,307.8984 L1323.5,332.8984 L1692.5,332.8984 L1692.5,317.8984 L1682.5,307.8984 L1323.5,307.8984 ' fill='#FEFFDD' style='stroke:#181818;stroke-width:0.5;'/><path d='M1682.5,307.8984 L1682.5,317.8984 L1692.5,317.8984 L1682.5,307.8984 ' fill='#FEFFDD' style='stroke:#181818;stroke-width:0.5;'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='348' x='1329.5' y='324.9653'>check if duplicate urls are registered for the same bpnl</text><polygon fill='#181818' points='403,362.8633,393,366.8633,403,370.8633,399,366.8633' style='stroke:#181818;stroke-width:1.0;'/><line style='stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;' x1='397' x2='1211.5' y1='366.8633' y2='366.8633'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='62' x='409' y='361.7974'>Exception</text><path d='M84,325.0313 L84,395.0313 L387,395.0313 L387,335.0313 L377,325.0313 L84,325.0313 ' fill='#FEFFDD' style='stroke:#181818;stroke-width:0.5;'/><path d='M377,325.0313 L377,335.0313 L387,335.0313 L377,325.0313 ' fill='#FEFFDD' style='stroke:#181818;stroke-width:0.5;'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='263' x='90' y='342.0981'>DiscoveryFinder detected an invalid state</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='282' x='90' y='357.231'>Multiple identical URLs have been registered</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='277' x='90' y='372.3638'>for the same BPN. Please ensure each BPN</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='204' x='90' y='387.4966'>is associated with a unique URL.</text><line style='stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;' x1='74' x2='1318.5' y1='401.5625' y2='401.5625'/><polygon fill='#181818' points='403,419.6953,393,423.6953,403,427.6953,399,423.6953' style='stroke:#181818;stroke-width:1.0;'/><line style='stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;' x1='397' x2='642' y1='423.6953' y2='423.6953'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='34' x='409' y='418.6294'>false,</text><line style='stroke:#181818;stroke-width:1.0;' x1='643' x2='685' y1='459.8281' y2='459.8281'/><line style='stroke:#181818;stroke-width:1.0;' x1='685' x2='685' y1='459.8281' y2='472.8281'/><line style='stroke:#181818;stroke-width:1.0;' x1='644' x2='685' y1='472.8281' y2='472.8281'/><polygon fill='#181818' points='654,468.8281,644,472.8281,654,476.8281,650,472.8281' style='stroke:#181818;stroke-width:1.0;'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='237' x='650' y='454.7622'>getDiscoveryFromBpnDatabase(bpn)</text><polygon fill='#181818' points='1359.5,497.9609,1369.5,501.9609,1359.5,505.9609,1363.5,501.9609' style='stroke:#181818;stroke-width:1.0;'/><line style='stroke:#181818;stroke-width:1.0;' x1='643' x2='1365.5' y1='501.9609' y2='501.9609'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='176' x='650' y='496.895'>existsWhereUrlNotNull(bpn)</text><path d='M363,516.9609 L427,516.9609 L427,524.0938 L417,534.0938 L363,534.0938 L363,516.9609 ' fill='#EEEEEE' style='stroke:#000000;stroke-width:1.5;'/><rect fill='none' height='77.3984' style='stroke:#000000;stroke-width:1.5;' width='1081.5' x='363' y='516.9609'/><text fill='#000000' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacing' textLength='19' x='378' y='530.0278'>alt</text><text fill='#000000' font-family='sans-serif' font-size='11' font-weight='bold' lengthAdjust='spacing' textLength='155' x='442' y='529.1714'>[BpnEdcMapping exists]</text><polygon fill='#181818' points='654,551.2266,644,555.2266,654,559.2266,650,555.2266' style='stroke:#181818;stroke-width:1.0;'/><line style='stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;' x1='648' x2='1370.5' y1='555.2266' y2='555.2266'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='145' x='660' y='550.1606'>return BpnEdcMapping</text><line style='stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;' x1='363' x2='1444.5' y1='564.2266' y2='564.2266'/><polygon fill='#181818' points='403,582.3594,393,586.3594,403,590.3594,399,586.3594' style='stroke:#181818;stroke-width:1.0;'/><line style='stroke:#181818;stroke-width:1.0;' x1='397' x2='642' y1='586.3594' y2='586.3594'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='227' x='409' y='581.2935'>throw new BpnNotFoundException()</text><polygon fill='#181818' points='654,618.4922,644,622.4922,654,626.4922,650,622.4922' style='stroke:#181818;stroke-width:1.0;'/><line style='stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;' x1='648' x2='1375.5' y1='622.4922' y2='622.4922'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='51' x='660' y='617.4263'>boolean</text><path d='M10,637.4922 L74,637.4922 L74,644.625 L64,654.625 L10,654.625 L10,637.4922 ' fill='#EEEEEE' style='stroke:#000000;stroke-width:1.5;'/><rect fill='none' height='154.4688' style='stroke:#000000;stroke-width:1.5;' width='1525.5' x='10' y='637.4922'/><text fill='#000000' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacing' textLength='19' x='25' y='650.5591'>alt</text><text fill='#000000' font-family='sans-serif' font-size='11' font-weight='bold' lengthAdjust='spacing' textLength='202' x='89' y='649.7026'>[BPN exists and URL is not null]</text><polygon fill='#181818' points='1359.5,674.7578,1369.5,678.7578,1359.5,682.7578,1363.5,678.7578' style='stroke:#181818;stroke-width:1.0;'/><line style='stroke:#181818;stroke-width:1.0;' x1='643' x2='1365.5' y1='678.7578' y2='678.7578'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='260' x='650' y='673.6919'>findByIdOrThrowNotFoundException(bpn)</text><path d='M20,659.625 L20,684.625 L638,684.625 L638,669.625 L628,659.625 L20,659.625 ' fill='#FEFFDD' style='stroke:#181818;stroke-width:0.5;'/><path d='M628,659.625 L628,669.625 L638,669.625 L628,659.625 ' fill='#FEFFDD' style='stroke:#181818;stroke-width:0.5;'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='597' x='26' y='676.6919'>In case the BpnNotFoundException is thrown the bpn url from DiscoveryService is never used.</text><polygon fill='#181818' points='654,706.8906,644,710.8906,654,714.8906,650,710.8906' style='stroke:#181818;stroke-width:1.0;'/><line style='stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;' x1='648' x2='1375.5' y1='710.8906' y2='710.8906'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='69' x='660' y='705.8247'>BpnRecord</text><polygon fill='#181818' points='1468,736.0234,1478,740.0234,1468,744.0234,1472,740.0234' style='stroke:#181818;stroke-width:1.0;'/><line style='stroke:#181818;stroke-width:1.0;' x1='643' x2='1474' y1='740.0234' y2='740.0234'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='224' x='650' y='734.9575'>toDiscovery(receiverUrl, senderUrl)</text><line style='stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;' x1='10' x2='1535.5' y1='749.0234' y2='749.0234'/><text fill='#000000' font-family='sans-serif' font-size='11' font-weight='bold' lengthAdjust='spacing' textLength='222' x='15' y='759.2339'>[DiscoveryFinderException occurs]</text><polygon fill='#181818' points='403,779.9609,393,783.9609,403,787.9609,399,783.9609' style='stroke:#181818;stroke-width:1.0;'/><line style='stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;' x1='397' x2='1211.5' y1='783.9609' y2='783.9609'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='241' x='409' y='778.895'>throw new DiscoveryFinderException()</text><line style='stroke:#181818;stroke-width:1.0;' x1='643' x2='685' y1='820.0938' y2='820.0938'/><line style='stroke:#181818;stroke-width:1.0;' x1='685' x2='685' y1='820.0938' y2='833.0938'/><line style='stroke:#181818;stroke-width:1.0;' x1='644' x2='685' y1='833.0938' y2='833.0938'/><polygon fill='#181818' points='654,829.0938,644,833.0938,654,837.0938,650,833.0938' style='stroke:#181818;stroke-width:1.0;'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='259' x='650' y='815.0278'>mergeDiscoveriesAndRemoveDuplicates</text><line style='stroke:#181818;stroke-width:1.0;' x1='643' x2='685' y1='867.2266' y2='867.2266'/><line style='stroke:#181818;stroke-width:1.0;' x1='685' x2='685' y1='867.2266' y2='880.2266'/><line style='stroke:#181818;stroke-width:1.0;' x1='638' x2='685' y1='880.2266' y2='880.2266'/><polygon fill='#181818' points='648,876.2266,638,880.2266,648,884.2266,644,880.2266' style='stroke:#181818;stroke-width:1.0;'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='116' x='650' y='862.1606'>removeDuplicates</text></g></svg>